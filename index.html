<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sistema de Banco de Alimentos</title>
    <link rel="stylesheet" href="src/style/forms.css" />
    <link rel="stylesheet" href="src/style/main.css" />
    <link rel="stylesheet" href="src/style/menuLateral.css" />
    <link rel="stylesheet" href="src/style/table.css" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: #f5f5f5;
        color: #333;
      }

      .container {
        display: flex;
        min-height: 100vh;
      }

     
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Menu Lateral -->
      <aside class="sidebar">
        <div class="sidebar-header">
          <h1>üç≤ Banco de Alimentos</h1>
          <p>Sistema de Gest√£o</p>
        </div>
        <nav>
          <!-- Dashboard -->
          <div class="menu-item active" onclick="showSection('dashboard')">
            <div class="menu-item-content">
              <span class="icon">üìä</span>
              <div class="menu-item-text">Dashboard</div>
            </div>
          </div>

          <!-- Cadastros -->
          <div class="menu-item" onclick="toggleSubmenu('cadastros')">
            <div class="menu-item-content">
              <span class="icon">üìù</span>
              <div class="menu-item-text">Cadastros</div>
            </div>
            <span class="menu-arrow">‚ñ∂</span>
          </div>
          <div class="submenu" id="submenu-cadastros">
            <div class="submenu-item" onclick="showSection('doadores', event)">
              üë• Doadores
            </div>
            <div
              class="submenu-item"
              onclick="showSection('instituicoes', event)"
            >
              üè¢ Institui√ß√µes
            </div>
            <div
              class="submenu-item"
              onclick="showSection('voluntarios', event)"
            >
              ü§ù Volunt√°rios
            </div>
          </div>

          <!-- Opera√ß√µes -->
          <div class="menu-item" onclick="toggleSubmenu('operacoes')">
            <div class="menu-item-content">
              <span class="icon">‚öôÔ∏è</span>
              <div class="menu-item-text">Opera√ß√µes</div>
            </div>
            <span class="menu-arrow">‚ñ∂</span>
          </div>
          <div class="submenu" id="submenu-operacoes">
            <div class="submenu-item" onclick="showSection('doacoes', event)">
              üíù Doa√ß√µes
            </div>
            <div class="submenu-item" onclick="showSection('coletas', event)">
              üöö Coletas
            </div>
            <div
              class="submenu-item"
              onclick="showSection('distribuicoes', event)"
            >
              üì¶ Distribui√ß√µes
            </div>
          </div>

          <!-- Estoque -->
          <div class="menu-item" onclick="toggleSubmenu('estoque')">
            <div class="menu-item-content">
              <span class="icon">üìã</span>
              <div class="menu-item-text">Estoque</div>
            </div>
            <span class="menu-arrow">‚ñ∂</span>
          </div>
          <div class="submenu" id="submenu-estoque">
            <div class="submenu-item" onclick="showSection('alimentos', event)">
              ü•´ Alimentos
            </div>
            <div
              class="submenu-item"
              onclick="showSection('movimentacoes', event)"
            >
              üìä Movimenta√ß√µes
            </div>
            <div
              class="submenu-item"
              onclick="showSection('categorias', event)"
            >
              üè∑Ô∏è Categorias
            </div>
          </div>

          <!-- Campanhas -->
          <div class="menu-item" onclick="showSection('campanhas')">
            <div class="menu-item-content">
              <span class="icon">üì¢</span>
              <div class="menu-item-text">Campanhas</div>
            </div>
          </div>

          <!-- Relat√≥rios -->
          <div class="menu-item" onclick="showSection('relatorios')">
            <div class="menu-item-content">
              <span class="icon">üìà</span>
              <div class="menu-item-text">Relat√≥rios</div>
            </div>
          </div>
        </nav>
      </aside>

      <!-- Conte√∫do Principal -->
      <main class="main-content">
        <!-- Dashboard -->
        <section id="dashboard" class="content-section active">
          <div class="section-header">
            <h2>Dashboard</h2>
            <p>Vis√£o geral do sistema de banco de alimentos</p>
          </div>

          <div class="dashboard-cards">
            <div class="card">
              <div class="card-header">
                <div>
                  <div class="card-value" id="total-doadores">0</div>
                  <div class="card-label">Doadores Cadastrados</div>
                </div>
                <div class="card-icon blue">üë•</div>
              </div>
            </div>

            <div class="card">
              <div class="card-header">
                <div>
                  <div class="card-value" id="total-doacoes">0</div>
                  <div class="card-label">Doa√ß√µes Realizadas</div>
                </div>
                <div class="card-icon green">üíù</div>
              </div>
            </div>

            <div class="card">
              <div class="card-header">
                <div>
                  <div class="card-value" id="total-alimentos">0</div>
                  <div class="card-label">Alimentos em Estoque</div>
                </div>
                <div class="card-icon orange">ü•´</div>
              </div>
            </div>

            <div class="card">
              <div class="card-header">
                <div>
                  <div class="card-value" id="total-instituicoes">0</div>
                  <div class="card-label">Institui√ß√µes Atendidas</div>
                </div>
                <div class="card-icon purple">üè¢</div>
              </div>
            </div>
          </div>

          <div class="chart-container">
            <h3>Atividades Recentes</h3>
            <div class="chart-placeholder">
              <p>üìä Gr√°fico de atividades ser√° exibido aqui</p>
            </div>
          </div>
        </section>

        <!-- Doadores -->
        <section id="doadores" class="content-section">
          <div class="section-header">
            <h2>Gest√£o de Doadores</h2>
            <p>Cadastro e gerenciamento de doadores</p>
          </div>

          <div class="form-container">
            <h3>Cadastrar Novo Doador</h3>
            <form id="form-doador" onsubmit="cadastrarDoador(event)">
              <div class="form-row">
                <div class="form-group">
                  <label>Nome Completo *</label>
                  <input type="text" name="nome" required />
                </div>
                <div class="form-group">
                  <label>CPF *</label>
                  <input
                    type="text"
                    name="cpf"
                    placeholder="000.000.000-00"
                    required
                  />
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label>Email</label>
                  <input type="email" name="email" />
                </div>
                <div class="form-group">
                  <label>Telefone</label>
                  <input
                    type="tel"
                    name="telefone"
                    placeholder="(00) 00000-0000"
                  />
                </div>
              </div>
              <div class="form-group">
                <label>Endere√ßo</label>
                <input
                  type="text"
                  name="endereco"
                  placeholder="Rua, n√∫mero, bairro, cidade"
                />
              </div>
              <button type="submit" class="btn btn-primary">
                Cadastrar Doador
              </button>
            </form>
          </div>

          <div class="table-container" style="margin-top: 30px">
            <h3>Doadores Cadastrados</h3>
            <table>
              <thead>
                <tr>
                  <th>Nome</th>
                  <th>CPF</th>
                  <th>Email</th>
                  <th>Telefone</th>
                  <th>A√ß√µes</th>
                </tr>
              </thead>
              <tbody id="lista-doadores">
                <tr>
                  <td colspan="5" style="text-align: center; color: #7f8c8d">
                    Nenhum doador cadastrado
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Institui√ß√µes -->
        <section id="instituicoes" class="content-section">
          <div class="section-header">
            <h2>Institui√ß√µes Beneficiadas</h2>
            <p>Gest√£o de institui√ß√µes que recebem doa√ß√µes</p>
          </div>

          <div class="form-container">
            <h3>Cadastrar Nova Institui√ß√£o</h3>
            <form id="form-instituicao" onsubmit="cadastrarInstituicao(event)">
              <div class="form-row">
                <div class="form-group">
                  <label>Nome da Institui√ß√£o *</label>
                  <input type="text" name="nome" required />
                </div>
                <div class="form-group">
                  <label>CNPJ *</label>
                  <input
                    type="text"
                    name="cnpj"
                    placeholder="00.000.000/0000-00"
                    required
                  />
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label>Email</label>
                  <input type="email" name="email" />
                </div>
                <div class="form-group">
                  <label>Telefone</label>
                  <input type="tel" name="telefone" />
                </div>
              </div>
              <div class="form-group">
                <label>Endere√ßo</label>
                <input type="text" name="endereco" />
              </div>
              <button type="submit" class="btn btn-primary">
                Cadastrar Institui√ß√£o
              </button>
            </form>
          </div>

          <div class="table-container" style="margin-top: 30px">
            <h3>Institui√ß√µes Cadastradas</h3>
            <table>
              <thead>
                <tr>
                  <th>Nome</th>
                  <th>CNPJ</th>
                  <th>Email</th>
                  <th>Telefone</th>
                  <th>A√ß√µes</th>
                </tr>
              </thead>
              <tbody id="lista-instituicoes">
                <tr>
                  <td colspan="5" style="text-align: center; color: #7f8c8d">
                    Nenhuma institui√ß√£o cadastrada
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Volunt√°rios -->
        <section id="voluntarios" class="content-section">
          <div class="section-header">
            <h2>Gest√£o de Volunt√°rios</h2>
            <p>Cadastro e gerenciamento de volunt√°rios</p>
          </div>

          <div class="form-container">
            <h3>Cadastrar Novo Volunt√°rio</h3>
            <form id="form-voluntario" onsubmit="cadastrarVoluntario(event)">
              <div class="form-row">
                <div class="form-group">
                  <label>Nome Completo *</label>
                  <input type="text" name="nome" required />
                </div>
                <div class="form-group">
                  <label>CPF *</label>
                  <input
                    type="text"
                    name="cpf"
                    placeholder="000.000.000-00"
                    required
                  />
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label>Email</label>
                  <input type="email" name="email" />
                </div>
                <div class="form-group">
                  <label>Telefone</label>
                  <input
                    type="tel"
                    name="telefone"
                    placeholder="(00) 00000-0000"
                  />
                </div>
              </div>
              <button type="submit" class="btn btn-primary">
                Cadastrar Volunt√°rio
              </button>
            </form>
          </div>

          <div class="table-container" style="margin-top: 30px">
            <h3>Volunt√°rios Cadastrados</h3>
            <table>
              <thead>
                <tr>
                  <th>Nome</th>
                  <th>CPF</th>
                  <th>Email</th>
                  <th>Telefone</th>
                  <th>A√ß√µes</th>
                </tr>
              </thead>
              <tbody id="lista-voluntarios">
                <tr>
                  <td colspan="5" style="text-align: center; color: #7f8c8d">
                    Nenhum volunt√°rio cadastrado
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Doa√ß√µes -->
        <section id="doacoes" class="content-section">
          <div class="section-header">
            <h2>Registro de Doa√ß√µes</h2>
            <p>Registre as doa√ß√µes recebidas</p>
          </div>

          <div class="form-container">
            <h3>Registrar Nova Doa√ß√£o</h3>
            <form id="form-doacao" onsubmit="registrarDoacao(event)">
              <div class="form-row">
                <div class="form-group">
                  <label>Doador *</label>
                  <select name="id_doador" id="select-doador" required>
                    <option value="">Selecione um doador</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Institui√ß√£o *</label>
                  <select
                    name="id_instituicao"
                    id="select-instituicao"
                    required
                  >
                    <option value="">Selecione uma institui√ß√£o</option>
                  </select>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label>Tipo de Doa√ß√£o *</label>
                  <input
                    type="text"
                    name="tipo"
                    placeholder="Ex: Alimentos n√£o perec√≠veis"
                    required
                  />
                </div>
                <div class="form-group">
                  <label>Quantidade *</label>
                  <input type="number" name="quantidade" min="1" required />
                </div>
              </div>
              <div class="form-group">
                <label>Data da Doa√ß√£o *</label>
                <input type="date" name="data_doacao" required />
              </div>
              <button type="submit" class="btn btn-success">
                Registrar Doa√ß√£o
              </button>
            </form>
          </div>

          <div class="table-container" style="margin-top: 30px">
            <h3>Doa√ß√µes Registradas</h3>
            <table>
              <thead>
                <tr>
                  <th>Data</th>
                  <th>Doador</th>
                  <th>Institui√ß√£o</th>
                  <th>Tipo</th>
                  <th>Quantidade</th>
                  <th>A√ß√µes</th>
                </tr>
              </thead>
              <tbody id="lista-doacoes">
                <tr>
                  <td colspan="6" style="text-align: center; color: #7f8c8d">
                    Nenhuma doa√ß√£o registrada
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Coletas -->
        <section id="coletas" class="content-section">
          <div class="section-header">
            <h2>Controle de Coletas</h2>
            <p>Registre as coletas realizadas</p>
          </div>

          <div class="form-container">
            <h3>Registrar Nova Coleta</h3>
            <form id="form-coleta" onsubmit="registrarColeta(event)">
              <div class="form-row">
                <div class="form-group">
                  <label>Doador *</label>
                  <select name="id_doador" id="select-doador-coleta" required>
                    <option value="">Selecione um doador</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Data da Coleta *</label>
                  <input type="date" name="data_coleta" required />
                </div>
              </div>
              <div class="form-group">
                <label>Respons√°vel pela Coleta *</label>
                <input type="text" name="responsavel" required />
              </div>
              <div class="form-group">
                <label>Observa√ß√µes</label>
                <textarea name="observacoes" rows="3"></textarea>
              </div>
              <button type="submit" class="btn btn-success">
                Registrar Coleta
              </button>
            </form>
          </div>

          <div class="table-container" style="margin-top: 30px">
            <h3>Coletas Realizadas</h3>
            <table>
              <thead>
                <tr>
                  <th>Data</th>
                  <th>Doador</th>
                  <th>Respons√°vel</th>
                  <th>Observa√ß√µes</th>
                  <th>A√ß√µes</th>
                </tr>
              </thead>
              <tbody id="lista-coletas">
                <tr>
                  <td colspan="5" style="text-align: center; color: #7f8c8d">
                    Nenhuma coleta registrada
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Distribui√ß√µes -->
        <section id="distribuicoes" class="content-section">
          <div class="section-header">
            <h2>Distribui√ß√µes</h2>
            <p>Controle de distribui√ß√µes para institui√ß√µes</p>
          </div>

          <div class="form-container">
            <h3>Registrar Nova Distribui√ß√£o</h3>
            <form
              id="form-distribuicao"
              onsubmit="registrarDistribuicao(event)"
            >
              <div class="form-row">
                <div class="form-group">
                  <label>Institui√ß√£o *</label>
                  <select
                    name="id_instituicao"
                    id="select-instituicao-dist"
                    required
                  >
                    <option value="">Selecione uma institui√ß√£o</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Data da Distribui√ß√£o *</label>
                  <input type="date" name="data_distribuicao" required />
                </div>
              </div>
              <div class="form-group">
                <label>Respons√°vel *</label>
                <input type="text" name="responsavel" required />
              </div>
              <div class="form-group">
                <label>Observa√ß√µes</label>
                <textarea name="observacoes" rows="3"></textarea>
              </div>
              <button type="submit" class="btn btn-success">
                Registrar Distribui√ß√£o
              </button>
            </form>
          </div>

          <div class="table-container" style="margin-top: 30px">
            <h3>Distribui√ß√µes Realizadas</h3>
            <table>
              <thead>
                <tr>
                  <th>Data</th>
                  <th>Institui√ß√£o</th>
                  <th>Respons√°vel</th>
                  <th>Observa√ß√µes</th>
                  <th>A√ß√µes</th>
                </tr>
              </thead>
              <tbody id="lista-distribuicoes">
                <tr>
                  <td colspan="5" style="text-align: center; color: #7f8c8d">
                    Nenhuma distribui√ß√£o registrada
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Alimentos -->
        <section id="alimentos" class="content-section">
          <div class="section-header">
            <h2>Controle de Alimentos</h2>
            <p>Gerencie os alimentos dispon√≠veis</p>
          </div>

          <div class="form-container">
            <h3>Cadastrar Alimento</h3>
            <form id="form-alimento" onsubmit="cadastrarAlimento(event)">
              <div class="form-row">
                <div class="form-group">
                  <label>Nome do Alimento *</label>
                  <input type="text" name="nome" required />
                </div>
                <div class="form-group">
                  <label>Categoria *</label>
                  <select name="categoria" required>
                    <option value="">Selecione</option>
                    <option value="Gr√£os">Gr√£os</option>
                    <option value="Enlatados">Enlatados</option>
                    <option value="Massas">Massas</option>
                    <option value="√ìleos">√ìleos</option>
                    <option value="Bebidas">Bebidas</option>
                    <option value="Outros">Outros</option>
                  </select>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label>Quantidade *</label>
                  <input type="number" step="0.01" name="quantidade" required />
                </div>
                <div class="form-group">
                  <label>Unidade de Medida *</label>
                  <select name="unidade" required>
                    <option value="kg">Quilogramas (kg)</option>
                    <option value="un">Unidades (un)</option>
                    <option value="l">Litros (l)</option>
                    <option value="cx">Caixas (cx)</option>
                  </select>
                </div>
              </div>
              <div class="form-group">
                <label>Data de Validade</label>
                <input type="date" name="validade" />
              </div>
              <button type="submit" class="btn btn-primary">
                Cadastrar Alimento
              </button>
            </form>
          </div>

          <div class="table-container" style="margin-top: 30px">
            <h3>Alimentos Cadastrados</h3>
            <table>
              <thead>
                <tr>
                  <th>Nome</th>
                  <th>Categoria</th>
                  <th>Quantidade</th>
                  <th>Unidade</th>
                  <th>Validade</th>
                  <th>A√ß√µes</th>
                </tr>
              </thead>
              <tbody id="lista-alimentos">
                <tr>
                  <td colspan="6" style="text-align: center; color: #7f8c8d">
                    Nenhum alimento cadastrado
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Movimenta√ß√µes -->
        <section id="movimentacoes" class="content-section">
          <div class="section-header">
            <h2>Movimenta√ß√µes de Estoque</h2>
            <p>Hist√≥rico de entradas e sa√≠das</p>
          </div>

          <div class="table-container">
            <h3>√öltimas Movimenta√ß√µes</h3>
            <table>
              <thead>
                <tr>
                  <th>Data</th>
                  <th>Tipo</th>
                  <th>Alimento</th>
                  <th>Quantidade</th>
                  <th>Respons√°vel</th>
                </tr>
              </thead>
              <tbody id="lista-movimentacoes">
                <tr>
                  <td colspan="5" style="text-align: center; color: #7f8c8d">
                    Nenhuma movimenta√ß√£o registrada
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Categorias -->
        <section id="categorias" class="content-section">
          <div class="section-header">
            <h2>Categorias de Alimentos</h2>
            <p>Gerencie as categorias de produtos</p>
          </div>

          <div class="form-container">
            <h3>Adicionar Nova Categoria</h3>
            <form id="form-categoria" onsubmit="cadastrarCategoria(event)">
              <div class="form-group">
                <label>Nome da Categoria *</label>
                <input type="text" name="nome_categoria" required />
              </div>
              <button type="submit" class="btn btn-primary">
                Adicionar Categoria
              </button>
            </form>
          </div>

          <div class="table-container" style="margin-top: 30px">
            <h3>Categorias Cadastradas</h3>
            <table>
              <thead>
                <tr>
                  <th>Nome da Categoria</th>
                  <th>A√ß√µes</th>
                </tr>
              </thead>
              <tbody id="lista-categorias">
                <tr>
                  <td colspan="2" style="text-align: center; color: #7f8c8d">
                    Nenhuma categoria cadastrada
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Campanhas -->
        <section id="campanhas" class="content-section">
          <div class="section-header">
            <h2>Campanhas de Arrecada√ß√£o</h2>
            <p>Organize e gerencie campanhas</p>
          </div>

          <div class="form-container">
            <h3>Criar Nova Campanha</h3>
            <form id="form-campanha" onsubmit="cadastrarCampanha(event)">
              <div class="form-group">
                <label>Nome da Campanha *</label>
                <input type="text" name="nome" required />
              </div>
              <div class="form-group">
                <label>Descri√ß√£o</label>
                <textarea name="descricao" rows="3"></textarea>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label>Data de In√≠cio *</label>
                  <input type="date" name="data_inicio" required />
                </div>
                <div class="form-group">
                  <label>Data de T√©rmino</label>
                  <input type="date" name="data_fim" />
                </div>
              </div>
              <button type="submit" class="btn btn-primary">
                Criar Campanha
              </button>
            </form>
          </div>

          <div class="table-container" style="margin-top: 30px">
            <h3>Campanhas Ativas</h3>
            <table>
              <thead>
                <tr>
                  <th>Nome</th>
                  <th>Descri√ß√£o</th>
                  <th>In√≠cio</th>
                  <th>T√©rmino</th>
                  <th>Status</th>
                  <th>A√ß√µes</th>
                </tr>
              </thead>
              <tbody id="lista-campanhas">
                <tr>
                  <td colspan="6" style="text-align: center; color: #7f8c8d">
                    Nenhuma campanha cadastrada
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Relat√≥rios -->
        <section id="relatorios" class="content-section">
          <div class="section-header">
            <h2>Relat√≥rios Gerenciais</h2>
            <p>An√°lises e estat√≠sticas do sistema</p>
          </div>

          <div class="dashboard-cards">
            <div class="card">
              <h3 style="font-size: 16px; margin-bottom: 15px">
                üìä Doa√ß√µes por Per√≠odo
              </h3>
              <div class="form-row">
                <input
                  type="date"
                  id="rel-data-inicio"
                  style="
                    padding: 8px;
                    border: 1px solid #ddd;
                    border-radius: 4px;
                  "
                />
                <input
                  type="date"
                  id="rel-data-fim"
                  style="
                    padding: 8px;
                    border: 1px solid #ddd;
                    border-radius: 4px;
                  "
                />
              </div>
              <button
                class="btn btn-primary btn-small"
                style="margin-top: 10px"
                onclick="gerarRelatorioGeral()"
              >
                Gerar Relat√≥rio
              </button>
            </div>

            <div class="card">
              <h3 style="font-size: 16px; margin-bottom: 15px">
                üìà Top Doadores
              </h3>
              <p style="color: #7f8c8d; font-size: 14px">
                Doadores mais ativos do m√™s
              </p>
              <button
                class="btn btn-primary btn-small"
                style="margin-top: 10px"
                onclick="gerarRelatorioDoadores()"
              >
                Visualizar
              </button>
            </div>

            <div class="card">
              <h3 style="font-size: 16px; margin-bottom: 15px">
                üè¢ Institui√ß√µes Atendidas
              </h3>
              <p style="color: #7f8c8d; font-size: 14px">
                Relat√≥rio de distribui√ß√µes
              </p>
              <button
                class="btn btn-primary btn-small"
                style="margin-top: 10px"
                onclick="gerarRelatorioInstituicoes()"
              >
                Visualizar
              </button>
            </div>

            <div class="card">
              <h3 style="font-size: 16px; margin-bottom: 15px">
                üì¶ Estoque Atual
              </h3>
              <p style="color: #7f8c8d; font-size: 14px">
                Status completo do estoque
              </p>
              <button
                class="btn btn-primary btn-small"
                style="margin-top: 10px"
                onclick="gerarRelatorioEstoque()"
              >
                Visualizar
              </button>
            </div>
          </div>

          <div class="chart-container">
            <h3>Relat√≥rio Gerado</h3>
            <div id="relatorio-resultado" class="chart-placeholder">
              <p>Selecione um tipo de relat√≥rio acima para visualizar</p>
            </div>
          </div>
        </section>
      </main>
    </div>

    <script>
      // Dados em mem√≥ria
      let dados = {
        doadores: [],
        instituicoes: [],
        voluntarios: [],
        doacoes: [],
        alimentos: [],
        coletas: [],
        distribuicoes: [],
        categorias: [],
        campanhas: [],
      };

      // Carregar dados do localStorage
      function carregarDados() {
        const dadosSalvos = localStorage.getItem("bancoAlimentosDados");
        if (dadosSalvos) {
          dados = JSON.parse(dadosSalvos);
          atualizarDashboard();
          atualizarTodasListagens();
        }
      }

      // Salvar dados no localStorage
      function salvarDados() {
        localStorage.setItem("bancoAlimentosDados", JSON.stringify(dados));
      }

      // Toggle submenu
      function toggleSubmenu(id) {
        const submenu = document.getElementById("submenu-" + id);
        const arrow = event.currentTarget.querySelector(".menu-arrow");

        submenu.classList.toggle("open");
        arrow.classList.toggle("open");
      }

      // Mostrar se√ß√£o
      function showSection(sectionId, event) {
        if (event) event.stopPropagation();

        // Remover active de todas as se√ß√µes
        document
          .querySelectorAll(".content-section")
          .forEach((s) => s.classList.remove("active"));
        document
          .querySelectorAll(".menu-item")
          .forEach((m) => m.classList.remove("active"));
        document
          .querySelectorAll(".submenu-item")
          .forEach((m) => m.classList.remove("active"));

        // Ativar se√ß√£o selecionada
        document.getElementById(sectionId).classList.add("active");

        // Ativar item do menu
        if (event) {
          event.currentTarget.classList.add("active");
        } else {
          document
            .querySelector(`[onclick="showSection('${sectionId}')"]`)
            ?.classList.add("active");
        }
      }

      // Cadastrar Doador
      function cadastrarDoador(e) {
        e.preventDefault();
        const form = e.target;
        const doador = {
          id: Date.now(),
          nome: form.nome.value,
          cpf: form.cpf.value,
          email: form.email.value,
          telefone: form.telefone.value,
          endereco: form.endereco.value,
        };

        dados.doadores.push(doador);
        salvarDados();
        form.reset();
        atualizarListaDoadores();
        atualizarDashboard();
        atualizarSelects();
        alert("Doador cadastrado com sucesso!");
      }

      // Cadastrar Institui√ß√£o
      function cadastrarInstituicao(e) {
        e.preventDefault();
        const form = e.target;
        const instituicao = {
          id: Date.now(),
          nome: form.nome.value,
          cnpj: form.cnpj.value,
          email: form.email.value,
          telefone: form.telefone.value,
          endereco: form.endereco.value,
        };

        dados.instituicoes.push(instituicao);
        salvarDados();
        form.reset();
        atualizarListaInstituicoes();
        atualizarDashboard();
        atualizarSelects();
        alert("Institui√ß√£o cadastrada com sucesso!");
      }

      // Cadastrar Volunt√°rio
      function cadastrarVoluntario(e) {
        e.preventDefault();
        const form = e.target;
        const voluntario = {
          id: Date.now(),
          nome: form.nome.value,
          cpf: form.cpf.value,
          email: form.email.value,
          telefone: form.telefone.value,
        };

        dados.voluntarios.push(voluntario);
        salvarDados();
        form.reset();
        atualizarListaVoluntarios();
        alert("Volunt√°rio cadastrado com sucesso!");
      }

      // Registrar Doa√ß√£o
      function registrarDoacao(e) {
        e.preventDefault();
        const form = e.target;
        const doacao = {
          id: Date.now(),
          id_doador: form.id_doador.value,
          id_instituicao: form.id_instituicao.value,
          tipo: form.tipo.value,
          quantidade: form.quantidade.value,
          data_doacao: form.data_doacao.value,
        };

        dados.doacoes.push(doacao);
        salvarDados();
        form.reset();
        atualizarListaDoacoes();
        atualizarDashboard();
        alert("Doa√ß√£o registrada com sucesso!");
      }

      // Cadastrar Alimento
      function cadastrarAlimento(e) {
        e.preventDefault();
        const form = e.target;
        const alimento = {
          id: Date.now(),
          nome: form.nome.value,
          categoria: form.categoria.value,
          quantidade: form.quantidade.value,
          unidade: form.unidade.value,
          validade: form.validade.value,
        };

        dados.alimentos.push(alimento);
        salvarDados();
        form.reset();
        atualizarListaAlimentos();
        atualizarDashboard();
        alert("Alimento cadastrado com sucesso!");
      }

      // Registrar Coleta
      function registrarColeta(e) {
        e.preventDefault();
        const form = e.target;
        const coleta = {
          id: Date.now(),
          id_doador: form.id_doador.value,
          data_coleta: form.data_coleta.value,
          responsavel: form.responsavel.value,
          observacoes: form.observacoes.value,
        };

        dados.coletas.push(coleta);
        salvarDados();
        form.reset();
        atualizarListaColetas();
        alert("Coleta registrada com sucesso!");
      }

      // Registrar Distribui√ß√£o
      function registrarDistribuicao(e) {
        e.preventDefault();
        const form = e.target;
        const distribuicao = {
          id: Date.now(),
          id_instituicao: form.id_instituicao.value,
          data_distribuicao: form.data_distribuicao.value,
          responsavel: form.responsavel.value,
          observacoes: form.observacoes.value,
        };

        dados.distribuicoes.push(distribuicao);
        salvarDados();
        form.reset();
        atualizarListaDistribuicoes();
        alert("Distribui√ß√£o registrada com sucesso!");
      }

      // Cadastrar Categoria
      function cadastrarCategoria(e) {
        e.preventDefault();
        const form = e.target;
        const categoria = {
          id: Date.now(),
          nome_categoria: form.nome_categoria.value,
        };

        dados.categorias.push(categoria);
        salvarDados();
        form.reset();
        atualizarListaCategorias();
        alert("Categoria cadastrada com sucesso!");
      }

      // Cadastrar Campanha
      function cadastrarCampanha(e) {
        e.preventDefault();
        const form = e.target;
        const campanha = {
          id: Date.now(),
          nome: form.nome.value,
          descricao: form.descricao.value,
          data_inicio: form.data_inicio.value,
          data_fim: form.data_fim.value,
        };

        dados.campanhas.push(campanha);
        salvarDados();
        form.reset();
        atualizarListaCampanhas();
        alert("Campanha criada com sucesso!");
      }

      // Atualizar Dashboard
      function atualizarDashboard() {
        document.getElementById("total-doadores").textContent =
          dados.doadores.length;
        document.getElementById("total-doacoes").textContent =
          dados.doacoes.length;
        document.getElementById("total-alimentos").textContent =
          dados.alimentos.length;
        document.getElementById("total-instituicoes").textContent =
          dados.instituicoes.length;
      }

      // Atualizar listagens
      function atualizarListaDoadores() {
        const tbody = document.getElementById("lista-doadores");
        if (dados.doadores.length === 0) {
          tbody.innerHTML =
            '<tr><td colspan="5" style="text-align: center; color: #7f8c8d;">Nenhum doador cadastrado</td></tr>';
          return;
        }

        tbody.innerHTML = dados.doadores
          .map(
            (d) => `
                <tr>
                    <td>${d.nome}</td>
                    <td>${d.cpf}</td>
                    <td>${d.email || "-"}</td>
                    <td>${d.telefone || "-"}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn btn-danger btn-small" onclick="excluirDoador(${
                              d.id
                            })">Excluir</button>
                        </div>
                    </td>
                </tr>
            `
          )
          .join("");
      }

      function atualizarListaInstituicoes() {
        const tbody = document.getElementById("lista-instituicoes");
        if (dados.instituicoes.length === 0) {
          tbody.innerHTML =
            '<tr><td colspan="5" style="text-align: center; color: #7f8c8d;">Nenhuma institui√ß√£o cadastrada</td></tr>';
          return;
        }

        tbody.innerHTML = dados.instituicoes
          .map(
            (i) => `
                <tr>
                    <td>${i.nome}</td>
                    <td>${i.cnpj}</td>
                    <td>${i.email || "-"}</td>
                    <td>${i.telefone || "-"}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn btn-danger btn-small" onclick="excluirInstituicao(${
                              i.id
                            })">Excluir</button>
                        </div>
                    </td>
                </tr>
            `
          )
          .join("");
      }

      function atualizarListaVoluntarios() {
        const tbody = document.getElementById("lista-voluntarios");
        if (dados.voluntarios.length === 0) {
          tbody.innerHTML =
            '<tr><td colspan="5" style="text-align: center; color: #7f8c8d;">Nenhum volunt√°rio cadastrado</td></tr>';
          return;
        }

        tbody.innerHTML = dados.voluntarios
          .map(
            (v) => `
                <tr>
                    <td>${v.nome}</td>
                    <td>${v.cpf}</td>
                    <td>${v.email || "-"}</td>
                    <td>${v.telefone || "-"}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn btn-danger btn-small" onclick="excluirVoluntario(${
                              v.id
                            })">Excluir</button>
                        </div>
                    </td>
                </tr>
            `
          )
          .join("");
      }

      function atualizarListaDoacoes() {
        const tbody = document.getElementById("lista-doacoes");
        if (dados.doacoes.length === 0) {
          tbody.innerHTML =
            '<tr><td colspan="6" style="text-align: center; color: #7f8c8d;">Nenhuma doa√ß√£o registrada</td></tr>';
          return;
        }

        tbody.innerHTML = dados.doacoes
          .map((d) => {
            const doador = dados.doadores.find((x) => x.id == d.id_doador);
            const instituicao = dados.instituicoes.find(
              (x) => x.id == d.id_instituicao
            );
            return `
                    <tr>
                        <td>${new Date(d.data_doacao).toLocaleDateString(
                          "pt-BR"
                        )}</td>
                        <td>${doador ? doador.nome : "N/A"}</td>
                        <td>${instituicao ? instituicao.nome : "N/A"}</td>
                        <td>${d.tipo}</td>
                        <td>${d.quantidade}</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-danger btn-small" onclick="excluirDoacao(${
                                  d.id
                                })">Excluir</button>
                            </div>
                        </td>
                    </tr>
                `;
          })
          .join("");
      }

      function atualizarListaAlimentos() {
        const tbody = document.getElementById("lista-alimentos");
        if (dados.alimentos.length === 0) {
          tbody.innerHTML =
            '<tr><td colspan="6" style="text-align: center; color: #7f8c8d;">Nenhum alimento cadastrado</td></tr>';
          return;
        }

        tbody.innerHTML = dados.alimentos
          .map(
            (a) => `
                <tr>
                    <td>${a.nome}</td>
                    <td>${a.categoria}</td>
                    <td>${a.quantidade}</td>
                    <td>${a.unidade}</td>
                    <td>${
                      a.validade
                        ? new Date(a.validade).toLocaleDateString("pt-BR")
                        : "-"
                    }</td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn btn-danger btn-small" onclick="excluirAlimento(${
                              a.id
                            })">Excluir</button>
                        </div>
                    </td>
                </tr>
            `
          )
          .join("");
      }

      function atualizarListaColetas() {
        const tbody = document.getElementById("lista-coletas");
        if (dados.coletas.length === 0) {
          tbody.innerHTML =
            '<tr><td colspan="5" style="text-align: center; color: #7f8c8d;">Nenhuma coleta registrada</td></tr>';
          return;
        }

        tbody.innerHTML = dados.coletas
          .map((c) => {
            const doador = dados.doadores.find((x) => x.id == c.id_doador);
            return `
                    <tr>
                        <td>${new Date(c.data_coleta).toLocaleDateString(
                          "pt-BR"
                        )}</td>
                        <td>${doador ? doador.nome : "N/A"}</td>
                        <td>${c.responsavel}</td>
                        <td>${c.observacoes || "-"}</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-danger btn-small" onclick="excluirColeta(${
                                  c.id
                                })">Excluir</button>
                            </div>
                        </td>
                    </tr>
                `;
          })
          .join("");
      }

      function atualizarListaDistribuicoes() {
        const tbody = document.getElementById("lista-distribuicoes");
        if (dados.distribuicoes.length === 0) {
          tbody.innerHTML =
            '<tr><td colspan="5" style="text-align: center; color: #7f8c8d;">Nenhuma distribui√ß√£o registrada</td></tr>';
          return;
        }

        tbody.innerHTML = dados.distribuicoes
          .map((d) => {
            const instituicao = dados.instituicoes.find(
              (x) => x.id == d.id_instituicao
            );
            return `
                    <tr>
                        <td>${new Date(d.data_distribuicao).toLocaleDateString(
                          "pt-BR"
                        )}</td>
                        <td>${instituicao ? instituicao.nome : "N/A"}</td>
                        <td>${d.responsavel}</td>
                        <td>${d.observacoes || "-"}</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-danger btn-small" onclick="excluirDistribuicao(${
                                  d.id
                                })">Excluir</button>
                            </div>
                        </td>
                    </tr>
                `;
          })
          .join("");
      }

      function atualizarListaCategorias() {
        const tbody = document.getElementById("lista-categorias");
        if (dados.categorias.length === 0) {
          tbody.innerHTML =
            '<tr><td colspan="2" style="text-align: center; color: #7f8c8d;">Nenhuma categoria cadastrada</td></tr>';
          return;
        }

        tbody.innerHTML = dados.categorias
          .map(
            (c) => `
                <tr>
                    <td>${c.nome_categoria}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn btn-danger btn-small" onclick="excluirCategoria(${c.id})">Excluir</button>
                        </div>
                    </td>
                </tr>
            `
          )
          .join("");
      }

      function atualizarListaCampanhas() {
        const tbody = document.getElementById("lista-campanhas");
        if (dados.campanhas.length === 0) {
          tbody.innerHTML =
            '<tr><td colspan="6" style="text-align: center; color: #7f8c8d;">Nenhuma campanha cadastrada</td></tr>';
          return;
        }

        tbody.innerHTML = dados.campanhas
          .map((c) => {
            const hoje = new Date();
            const inicio = new Date(c.data_inicio);
            const fim = c.data_fim ? new Date(c.data_fim) : null;
            let status = "Ativa";

            if (fim && hoje > fim) status = "Encerrada";
            else if (hoje < inicio) status = "Aguardando";

            return `
                    <tr>
                        <td>${c.nome}</td>
                        <td>${c.descricao || "-"}</td>
                        <td>${new Date(c.data_inicio).toLocaleDateString(
                          "pt-BR"
                        )}</td>
                        <td>${
                          c.data_fim
                            ? new Date(c.data_fim).toLocaleDateString("pt-BR")
                            : "-"
                        }</td>
                        <td><span style="padding: 4px 8px; background: ${
                          status === "Ativa" ? "#27ae60" : "#95a5a6"
                        }; color: white; border-radius: 4px; font-size: 12px;">${status}</span></td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-danger btn-small" onclick="excluirCampanha(${
                                  c.id
                                })">Excluir</button>
                            </div>
                        </td>
                    </tr>
                `;
          })
          .join("");
      }

      // Fun√ß√µes de exclus√£o
      function excluirDoador(id) {
        if (confirm("Deseja realmente excluir este doador?")) {
          dados.doadores = dados.doadores.filter((d) => d.id !== id);
          salvarDados();
          atualizarListaDoadores();
          atualizarDashboard();
          atualizarSelects();
        }
      }

      function excluirInstituicao(id) {
        if (confirm("Deseja realmente excluir esta institui√ß√£o?")) {
          dados.instituicoes = dados.instituicoes.filter((i) => i.id !== id);
          salvarDados();
          atualizarListaInstituicoes();
          atualizarDashboard();
          atualizarSelects();
        }
      }

      function excluirVoluntario(id) {
        if (confirm("Deseja realmente excluir este volunt√°rio?")) {
          dados.voluntarios = dados.voluntarios.filter((v) => v.id !== id);
          salvarDados();
          atualizarListaVoluntarios();
        }
      }

      function excluirDoacao(id) {
        if (confirm("Deseja realmente excluir esta doa√ß√£o?")) {
          dados.doacoes = dados.doacoes.filter((d) => d.id !== id);
          salvarDados();
          atualizarListaDoacoes();
          atualizarDashboard();
        }
      }

      function excluirAlimento(id) {
        if (confirm("Deseja realmente excluir este alimento?")) {
          dados.alimentos = dados.alimentos.filter((a) => a.id !== id);
          salvarDados();
          atualizarListaAlimentos();
          atualizarDashboard();
        }
      }

      function excluirColeta(id) {
        if (confirm("Deseja realmente excluir esta coleta?")) {
          dados.coletas = dados.coletas.filter((c) => c.id !== id);
          salvarDados();
          atualizarListaColetas();
        }
      }

      function excluirDistribuicao(id) {
        if (confirm("Deseja realmente excluir esta distribui√ß√£o?")) {
          dados.distribuicoes = dados.distribuicoes.filter((d) => d.id !== id);
          salvarDados();
          atualizarListaDistribuicoes();
        }
      }

      function excluirCategoria(id) {
        if (confirm("Deseja realmente excluir esta categoria?")) {
          dados.categorias = dados.categorias.filter((c) => c.id !== id);
          salvarDados();
          atualizarListaCategorias();
        }
      }

      function excluirCampanha(id) {
        if (confirm("Deseja realmente excluir esta campanha?")) {
          dados.campanhas = dados.campanhas.filter((c) => c.id !== id);
          salvarDados();
          atualizarListaCampanhas();
        }
      }

      // Atualizar selects
      function atualizarSelects() {
        // Select doadores
        const selectsDoador = document.querySelectorAll(
          "#select-doador, #select-doador-coleta"
        );
        selectsDoador.forEach((select) => {
          const valorAtual = select.value;
          select.innerHTML =
            '<option value="">Selecione um doador</option>' +
            dados.doadores
              .map((d) => `<option value="${d.id}">${d.nome}</option>`)
              .join("");
          select.value = valorAtual;
        });

        // Select institui√ß√µes
        const selectsInstituicao = document.querySelectorAll(
          "#select-instituicao, #select-instituicao-dist"
        );
        selectsInstituicao.forEach((select) => {
          const valorAtual = select.value;
          select.innerHTML =
            '<option value="">Selecione uma institui√ß√£o</option>' +
            dados.instituicoes
              .map((i) => `<option value="${i.id}">${i.nome}</option>`)
              .join("");
          select.value = valorAtual;
        });
      }

      // Atualizar todas as listagens
      function atualizarTodasListagens() {
        atualizarListaDoadores();
        atualizarListaInstituicoes();
        atualizarListaVoluntarios();
        atualizarListaDoacoes();
        atualizarListaAlimentos();
        atualizarListaColetas();
        atualizarListaDistribuicoes();
        atualizarListaCategorias();
        atualizarListaCampanhas();
        atualizarSelects();
      }

      // Fun√ß√µes de relat√≥rios
      function gerarRelatorioGeral() {
        const dataInicio = document.getElementById("rel-data-inicio").value;
        const dataFim = document.getElementById("rel-data-fim").value;

        if (!dataInicio || !dataFim) {
          alert("Por favor, selecione o per√≠odo para gerar o relat√≥rio");
          return;
        }

        const doacoesFiltradas = dados.doacoes.filter((d) => {
          return d.data_doacao >= dataInicio && d.data_doacao <= dataFim;
        });

        const resultado = document.getElementById("relatorio-resultado");
        resultado.innerHTML = `
                <div style="padding: 20px;">
                    <h4>Relat√≥rio de Doa√ß√µes - Per√≠odo: ${new Date(
                      dataInicio
                    ).toLocaleDateString("pt-BR")} a ${new Date(
          dataFim
        ).toLocaleDateString("pt-BR")}</h4>
                    <div style="margin-top: 20px;">
                        <p><strong>Total de Doa√ß√µes:</strong> ${
                          doacoesFiltradas.length
                        }</p>
                        <p><strong>Quantidade Total Doada:</strong> ${doacoesFiltradas.reduce(
                          (acc, d) => acc + parseInt(d.quantidade),
                          0
                        )} unidades</p>
                        <hr style="margin: 20px 0; border: none; border-top: 1px solid #ddd;">
                        <h5>Detalhamento:</h5>
                        <ul style="list-style: none; padding: 0;">
                            ${doacoesFiltradas
                              .map((d) => {
                                const doador = dados.doadores.find(
                                  (x) => x.id == d.id_doador
                                );
                                const instituicao = dados.instituicoes.find(
                                  (x) => x.id == d.id_instituicao
                                );
                                return `<li style="padding: 8px 0; border-bottom: 1px solid #eee;">
                                    ${new Date(
                                      d.data_doacao
                                    ).toLocaleDateString("pt-BR")} - 
                                    ${doador?.nome || "N/A"} ‚Üí 
                                    ${instituicao?.nome || "N/A"} - 
                                    ${d.quantidade} ${d.tipo}
                                </li>`;
                              })
                              .join("")}
                        </ul>
                    </div>
                </div>
            `;
      }

      function gerarRelatorioDoadores() {
        const doadoresComTotal = dados.doadores
          .map((doador) => {
            const totalDoacoes = dados.doacoes.filter(
              (d) => d.id_doador == doador.id
            ).length;
            const quantidadeTotal = dados.doacoes
              .filter((d) => d.id_doador == doador.id)
              .reduce((acc, d) => acc + parseInt(d.quantidade), 0);
            return { ...doador, totalDoacoes, quantidadeTotal };
          })
          .sort((a, b) => b.totalDoacoes - a.totalDoacoes);

        const resultado = document.getElementById("relatorio-resultado");
        resultado.innerHTML = `
                <div style="padding: 20px;">
                    <h4>Top Doadores</h4>
                    <table style="width: 100%; margin-top: 20px; border-collapse: collapse;">
                        <thead>
                            <tr style="background: #f8f9fa;">
                                <th style="padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6;">Posi√ß√£o</th>
                                <th style="padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6;">Nome</th>
                                <th style="padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6;">Total de Doa√ß√µes</th>
                                <th style="padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6;">Quantidade Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${doadoresComTotal
                              .slice(0, 10)
                              .map(
                                (d, i) => `
                                <tr>
                                    <td style="padding: 12px; border-bottom: 1px solid #dee2e6;">${
                                      i + 1
                                    }¬∫</td>
                                    <td style="padding: 12px; border-bottom: 1px solid #dee2e6;">${
                                      d.nome
                                    }</td>
                                    <td style="padding: 12px; border-bottom: 1px solid #dee2e6;">${
                                      d.totalDoacoes
                                    }</td>
                                    <td style="padding: 12px; border-bottom: 1px solid #dee2e6;">${
                                      d.quantidadeTotal
                                    } unidades</td>
                                </tr>
                            `
                              )
                              .join("")}
                        </tbody>
                    </table>
                </div>
            `;
      }

      function gerarRelatorioInstituicoes() {
        const instituicoesComTotal = dados.instituicoes
          .map((inst) => {
            const totalRecebimentos = dados.doacoes.filter(
              (d) => d.id_instituicao == inst.id
            ).length;
            const quantidadeTotal = dados.doacoes
              .filter((d) => d.id_instituicao == inst.id)
              .reduce((acc, d) => acc + parseInt(d.quantidade), 0);
            return { ...inst, totalRecebimentos, quantidadeTotal };
          })
          .sort((a, b) => b.totalRecebimentos - a.totalRecebimentos);

        const resultado = document.getElementById("relatorio-resultado");
        resultado.innerHTML = `
                <div style="padding: 20px;">
                    <h4>Institui√ß√µes Atendidas</h4>
                    <table style="width: 100%; margin-top: 20px; border-collapse: collapse;">
                        <thead>
                            <tr style="background: #f8f9fa;">
                                <th style="padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6;">Institui√ß√£o</th>
                                <th style="padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6;">CNPJ</th>
                                <th style="padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6;">Total Recebido</th>
                                <th style="padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6;">Quantidade</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${instituicoesComTotal
                              .map(
                                (i) => `
                                <tr>
                                    <td style="padding: 12px; border-bottom: 1px solid #dee2e6;">${i.nome}</td>
                                    <td style="padding: 12px; border-bottom: 1px solid #dee2e6;">${i.cnpj}</td>
                                    <td style="padding: 12px; border-bottom: 1px solid #dee2e6;">${i.totalRecebimentos} doa√ß√µes</td>
                                    <td style="padding: 12px; border-bottom: 1px solid #dee2e6;">${i.quantidadeTotal} unidades</td>
                                </tr>
                            `
                              )
                              .join("")}
                        </tbody>
                    </table>
                </div>
            `;
      }

      function gerarRelatorioEstoque() {
        const alimentosPorCategoria = {};
        dados.alimentos.forEach((a) => {
          if (!alimentosPorCategoria[a.categoria]) {
            alimentosPorCategoria[a.categoria] = [];
          }
          alimentosPorCategoria[a.categoria].push(a);
        });

        const resultado = document.getElementById("relatorio-resultado");
        resultado.innerHTML = `
                <div style="padding: 20px;">
                    <h4>Relat√≥rio de Estoque</h4>
                    <p><strong>Total de Itens:</strong> ${
                      dados.alimentos.length
                    }</p>
                    <div style="margin-top: 20px;">
                        ${Object.keys(alimentosPorCategoria)
                          .map(
                            (categoria) => `
                            <div style="margin-bottom: 20px;">
                                <h5 style="background: #f8f9fa; padding: 10px; border-radius: 4px;">${categoria}</h5>
                                <table style="width: 100%; margin-top: 10px; border-collapse: collapse;">
                                    <thead>
                                        <tr style="background: #f8f9fa;">
                                            <th style="padding: 10px; text-align: left; border-bottom: 2px solid #dee2e6;">Alimento</th>
                                            <th style="padding: 10px; text-align: left; border-bottom: 2px solid #dee2e6;">Quantidade</th>
                                            <th style="padding: 10px; text-align: left; border-bottom: 2px solid #dee2e6;">Validade</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${alimentosPorCategoria[categoria]
                                          .map(
                                            (a) => `
                                            <tr>
                                                <td style="padding: 10px; border-bottom: 1px solid #dee2e6;">${
                                                  a.nome
                                                }</td>
                                                <td style="padding: 10px; border-bottom: 1px solid #dee2e6;">${
                                                  a.quantidade
                                                } ${a.unidade}</td>
                                                <td style="padding: 10px; border-bottom: 1px solid #dee2e6;">${
                                                  a.validade
                                                    ? new Date(
                                                        a.validade
                                                      ).toLocaleDateString(
                                                        "pt-BR"
                                                      )
                                                    : "N√£o informado"
                                                }</td>
                                            </tr>
                                        `
                                          )
                                          .join("")}
                                    </tbody>
                                </table>
                            </div>
                        `
                          )
                          .join("")}
                    </div>
                </div>
            `;
      }

      // Inicializa√ß√£o
      window.addEventListener("DOMContentLoaded", () => {
        carregarDados();
      });
    </script>
  </body>
</html>
